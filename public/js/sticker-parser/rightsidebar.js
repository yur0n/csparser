(()=>{"use strict";const e=document.querySelector("main .open-modal-side-bar"),t=document.querySelector("main .modal"),n=document.querySelector(".modal .block_info__window .window_text .text"),c=document.querySelector(".modal .block_info__window .window_header .header_input");let o=document.querySelectorAll(".item-name");const a=document.getElementById("button-add"),l=document.getElementById("button-delete"),i=localforage.createInstance({name:"sideBarSticker"});async function d(e){const t=document.createElement("div");t.classList.add("item-container");const c=document.createElement("div");c.classList.add("item-name"),c.textContent=e,t.appendChild(c),n.appendChild(t),o=document.querySelectorAll(".item-name"),c.addEventListener("click",(function(){this.classList.toggle("selected")})),await i.setItem(e,e)}i.iterate(((e,t)=>{d(t)})).catch(console.error),e.addEventListener("click",(function(e){e.preventDefault(),t.classList.contains("show")?t.classList.remove("show"):t.classList.add("show")})),o.forEach((e=>{e.addEventListener("click",(function(){this.classList.toggle("selected")}))})),l.addEventListener("click",(function(e){e.preventDefault();const t=document.querySelectorAll(".item-name.selected");t&&t.forEach((async e=>{e.parentElement.remove(),i.removeItem(e.textContent).catch(console.error)}))})),a.addEventListener("click",(async function(e){e.preventDefault();let t=c.value;if(c.value.length<5)return;const n=document.querySelectorAll(".item-name");for(let e=0;e<n.length;e++)if(n[e].textContent===t)return void alert("Item with the same name already exists");c.value="",await d(t)}))})();