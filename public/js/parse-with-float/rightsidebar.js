(()=>{"use strict";const e=document.querySelector("main .open-modal-side-bar"),t=document.querySelector("main .modal"),n=document.querySelector(".modal .block_info__window .window_text .text"),a=document.querySelector(".modal .block_info__window .window_header .header_input");let o=document.querySelectorAll(".item-name");const c=document.getElementById("button-add"),l=document.getElementById("button-delete"),i=localforage.createInstance({name:"sideBarFloat"});async function d(e,t={minFloat:.01,maxFloat:.02}){const a=document.createElement("div");a.classList.add("item-container");const c=document.createElement("div");c.classList.add("item-name"),c.textContent=e,a.appendChild(c);const l=document.createElement("div");l.classList.add("float-range");const d=document.createElement("input");d.type="number",d.value=t.minFloat,d.name="minFloat",l.appendChild(d);const s=document.createElement("input");s.type="number",s.value=t.maxFloat,s.name="maxFloat",l.appendChild(s),a.appendChild(l),n.appendChild(a),o=document.querySelectorAll(".item-name"),c.addEventListener("click",(function(){this.classList.toggle("selected")})),t.name||await i.setItem(e,{name:e,minFloat:.01,maxFloat:.02}),s.addEventListener("input",(async function(){i.getItem(e).then((t=>{t.maxFloat=+this.value,i.setItem(e,t)})).catch(console.error)})),d.addEventListener("input",(async function(){i.getItem(e).then((t=>{t.minFloat=+this.value,i.setItem(e,t)})).catch(console.error)}))}i.iterate(((e,t)=>{d(t,e)})).catch(console.error),e.addEventListener("click",(function(e){e.preventDefault(),t.classList.contains("show")?t.classList.remove("show"):t.classList.add("show")})),o.forEach((e=>{e.addEventListener("click",(function(){this.classList.toggle("selected")}))})),l.addEventListener("click",(function(e){e.preventDefault();const t=document.querySelectorAll(".item-name.selected");t&&t.forEach((async e=>{e.parentElement.remove(),i.removeItem(e.textContent).catch(console.error)}))})),c.addEventListener("click",(async function(e){e.preventDefault();let t=a.value;if(a.value.length<5)return;const n=document.querySelectorAll(".item-name");for(let e=0;e<n.length;e++)if(n[e].textContent===t)return void alert("Item with the same name already exists");a.value="",await d(t)}))})();